{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Spinner/Spinner.module.css","helpers/Mapper.js","Service/ServiceAPI.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","components/Spinner/Spinner.js","components/App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","mapper","images","map","id","largeImageURL","webformatURL","getImages","query","page","axios","get","then","response","data","hits","searchbar","styles","searchForm","searchFormButton","searchFormInput","searchFormButtonLabel","SearchBar","state","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","this","className","type","autoComplete","autoFocus","placeholder","onChange","Component","imageGalleryItem","imageGalleryItemImage","ImageGalleryItem","onClickImg","src","alt","onClick","ImageGallery","imageGallery","image","key","overlay","modal","modalRoot","document","querySelector","Modal","handleKeydown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","modalImg","wrapper","button","Button","LoadMore","Spinner","color","height","width","App","largeImage","isLoading","showModal","onChangeQuery","event","onLoadMore","handleScroll","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","openModal","modalImage","closeModal","api","prevState","catch","finally","prevProps","renderContent","length","style","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a4004acb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mageGalleryItem\":\"ImageGalleryItem_mageGalleryItem__2Q3GD\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__36DfP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2S8LZ\",\"modal\":\"Modal_modal__2WWCi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Button_wrapper__3BV8N\",\"button\":\"Button_button__2HjyN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2aZzD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Spinner_wrapper__1qhsF\"};","const mapper = (images) => {\n  return images.map(({ id, largeImageURL, webformatURL }) => ({\n    id,\n    largeImageURL,\n    webformatURL,\n  }));\n};\n\nexport default mapper;\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"23364798-13e999d1bd4f00c21ed04ef58\";\r\n\r\nexport const getImages = ({ query, page }) =>\r\n  axios\r\n    .get(\r\n      `${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits);\r\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { toast } from \"react-toastify\";\nimport styles from \"./SearchBar.module.css\";\n\nconst {\n  searchbar,\n  searchForm,\n  searchFormButton,\n  searchFormInput,\n  searchFormButtonLabel,\n} = styles;\n\nclass SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    query: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    const { query } = this.state;\n\n    if (query.trim() === \"\") {\n      toast.error(\"Please enter the name of the request\");\n      return;\n    }\n\n    this.props.onSubmit(query);\n    this.setState({ query: \"\" });\n  };\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={searchbar}>\n        <form className={searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={searchFormButton}>\n            <span className={searchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            className={searchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import PropTypes from \"prop-types\";\nimport styles from \"./ImageGalleryItem.module.css\";\n\nconst { imageGalleryItem, imageGalleryItemImage } = styles;\n\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, onClickImg }) => {\n  return (\n    <li className={imageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt=\"\"\n        className={imageGalleryItemImage}\n        onClick={() => onClickImg({ largeImageURL })}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  onClickImg: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, onClickImg }) => {\n  return (\n    <ul className={styles.imageGallery}>\n      {images.map((image) => (\n        <ImageGalleryItem {...image} key={image.id} onClickImg={onClickImg} />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }).isRequired\n  ).isRequired,\n};\n\nexport default ImageGallery;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Modal.module.css\";\n\nconst { overlay, modal } = styles;\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    modalImg: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeydown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeydown);\n  }\n\n  handleKeydown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={overlay} onClick={this.handleBackdropClick}>\n        <div className={modal}>\n          <img src={this.props.modalImg} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import PropTypes from \"prop-types\";\nimport styles from \"./Button.module.css\";\n\nconst { wrapper, button } = styles;\n\nconst Button = ({ LoadMore }) => {\n  return (\n    <div className={wrapper}>\n      <button type=\"button\" className={button} onClick={LoadMore}>\n        load more\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  LoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport styles from \"./Spinner.module.css\";\n\nconst Spinner = () => {\n  return (\n    <div className={styles.wrapper}>\n      <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={80} width={80} />\n    </div>\n  );\n};\n\nexport default Spinner;\n","import { Component } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport style from \"./App.css\";\nimport mapper from \"../helpers/Mapper\";\nimport * as api from \"../Service/ServiceAPI\";\nimport SearchBar from \"./SearchBar\";\nimport ImageGallery from \"./ImageGallery\";\nimport Modal from \"./Modal\";\nimport Button from \"./Button\";\nimport Spinner from \"./Spinner\";\n\nclass App extends Component {\n  state = {\n    page: 1,\n    images: [],\n    query: \"\",\n    largeImage: \"\",\n    isLoading: false,\n    error: null,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, { query, page }) {\n    if (query !== this.state.query || page !== this.state.page) {\n      this.getImages();\n    }\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({ page: 1, images: [], query, error: null });\n  };\n\n  onSubmit = (event) => {\n    event.preventDefault();\n    this.getImages();\n  };\n\n  onLoadMore = () => {\n    this.setState(({ page }) => {\n      return {\n        page: page + 1,\n      };\n    });\n  };\n\n  handleScroll = () => {\n    if (this.state.page > 1) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  openModal = (modalImage) => {\n    this.setState(() => ({ largeImage: modalImage }));\n    this.toggleModal();\n  };\n\n  closeModal = () => {\n    this.setState({ largeImage: \"\" });\n    this.toggleModal();\n  };\n\n  getImages = () => {\n    const { page, query } = this.state;\n\n    this.setState({\n      isLoading: true,\n    });\n    api\n      .getImages({ query, page })\n      .then((response) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...mapper(response)],\n        }));\n      })\n      .catch((error) =>\n        this.setState({\n          error: toast.error(\"Woops, something went wrong... Try again later.\"),\n        })\n      )\n      .finally(() => {\n        this.setState({ isLoading: false });\n        this.handleScroll();\n      });\n  };\n\n  render() {\n    const { images, showModal, largeImage, isLoading } = this.state;\n    const renderContent = images.length > 0 && !isLoading;\n    return (\n      <div className={style.App}>\n        <SearchBar onSubmit={this.onChangeQuery} />\n        {images.length > 0 && (\n          <ImageGallery images={images} onClickImg={this.openModal} />\n        )}\n        {renderContent && <Button LoadMore={this.onLoadMore} />}\n        {isLoading && <Spinner />}\n        {showModal && (\n          <Modal\n            onClose={this.toggleModal}\n            modalImg={largeImage.largeImageURL}\n          />\n        )}\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"SearchBar_searchbar__YLSsO\",\"searchForm\":\"SearchBar_searchForm__19zQH\",\"searchFormButton\":\"SearchBar_searchFormButton__3iqZN\",\"searchFormButtonLabel\":\"SearchBar_searchFormButtonLabel__JTDK-\",\"searchFormInput\":\"SearchBar_searchFormInput__KTgr3\"};"],"sourceRoot":""}