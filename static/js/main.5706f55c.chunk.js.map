{"version":3,"sources":["components/SearchForm/SearchForm.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/SearchBar/SearchBar.module.css","components/ImageGallery/ImageGallery.module.css","components/Spinner/Spinner.module.css","helpers/Mapper.js","Service/ServiceAPI.js","components/SearchForm/SearchForm.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","components/Spinner/Spinner.js","components/App.js","index.js"],"names":["module","exports","mapper","images","map","id","largeImageURL","webformatURL","getImages","query","page","axios","get","then","response","data","hits","searchForm","styles","searchFormButton","searchFormInput","searchFormButtonLabel","SearchForm","state","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","this","className","type","autoComplete","autoFocus","placeholder","onChange","Component","SearchBar","Searchbar","imageGalleryItem","imageGalleryItemImage","ImageGalleryItem","onClickImg","src","alt","onClick","ImageGallery","imageGallery","overlay","modal","modalRoot","document","querySelector","Modal","handleKeydown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","modalImg","wrapper","button","Button","children","Spinner","color","height","width","App","largeImage","isLoading","showModal","onChangeQuery","event","api","prevState","catch","finally","toggleModal","openModal","modalImage","closeModal","prevProps","currentPage","scrollTo","top","documentElement","scrollHeight","behavior","renderLoadMoreBtn","length","style","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5706f55c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__cXZnk\",\"searchFormButton\":\"SearchForm_searchFormButton__THT3C\",\"searchFormButtonLabel\":\"SearchForm_searchFormButtonLabel__2kDzC\",\"searchFormInput\":\"SearchForm_searchFormInput__2quxV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mageGalleryItem\":\"ImageGalleryItem_mageGalleryItem__2Q3GD\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__36DfP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2S8LZ\",\"modal\":\"Modal_modal__2WWCi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Button_wrapper__3BV8N\",\"button\":\"Button_button__2HjyN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3RAcz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2aZzD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Spinner_wrapper__1qhsF\"};","const mapper = (images) => {\n  return images.map(({ id, largeImageURL, webformatURL }) => ({\n    id,\n    largeImageURL,\n    webformatURL,\n  }));\n};\n\nexport default mapper;\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"23364798-13e999d1bd4f00c21ed04ef58\";\r\n\r\nexport const getImages = ({ query, page }) =>\r\n  axios\r\n    .get(\r\n      `${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits);\r\n","import { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport styles from \"./SearchForm.module.css\";\n\nconst { searchForm, searchFormButton, searchFormInput, searchFormButtonLabel } =\n  styles;\n\nclass SearchForm extends Component {\n  state = {\n    query: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    const { query } = this.state;\n\n    if (query.trim() === \"\") {\n      toast.error(\"Please enter the name of the request\");\n      return;\n    }\n\n    this.props.onSubmit(query);\n    this.setState({ query: \"\" });\n  };\n  render() {\n    const { query } = this.state;\n    return (\n      <form className={searchForm} onSubmit={this.handleSubmit}>\n        <button type=\"submit\" className={searchFormButton}>\n          <span className={searchFormButtonLabel}>Search</span>\n        </button>\n        <input\n          className={searchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={query}\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n\nexport default SearchForm;\n","import PropTypes from \"prop-types\";\nimport styles from \"./SearchBar.module.css\";\nimport SearchForm from \"../SearchForm\";\n\nconst SearchBar = ({ onSubmit }) => {\n  return (\n    <header className={styles.Searchbar}>\n      <SearchForm onSubmit={onSubmit} />\n    </header>\n  );\n};\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","import PropTypes from \"prop-types\";\nimport styles from \"./ImageGalleryItem.module.css\";\n\nconst { imageGalleryItem, imageGalleryItemImage } = styles;\n\nconst ImageGalleryItem = ({ images, onClickImg }) => {\n  return (\n    <>\n      {images.map(({ id, webformatURL, largeImageURL }) => (\n        <li className={imageGalleryItem} key={id}>\n          <img\n            src={webformatURL}\n            alt=\"\"\n            className={imageGalleryItemImage}\n            onClick={() => onClickImg({ largeImageURL })}\n          />\n        </li>\n      ))}\n    </>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, onClickImg }) => {\n  return (\n    <ul className={styles.imageGallery}>\n      <ImageGalleryItem images={images} onClickImg={onClickImg} />\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styles from \"./Modal.module.css\";\n\nconst { overlay, modal } = styles;\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeydown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeydown);\n  }\n\n  handleKeydown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={overlay} onClick={this.handleBackdropClick}>\n        <div className={modal}>\n          <img src={this.props.modalImg} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst { wrapper, button } = styles;\r\n\r\nconst Button = ({ getImages, children }) => (\r\n  <div className={wrapper}>\r\n    <button type=\"button\" className={button} onClick={getImages}>\r\n      {children}\r\n    </button>\r\n  </div>\r\n);\r\n\r\nButton.propTypes = {\r\n  getImages: PropTypes.func.isRequired,\r\n  children: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from \"./Spinner.module.css\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import { Component } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport style from \"./App.css\";\nimport mapper from \"../helpers/Mapper\";\nimport * as api from \"../Service/ServiceAPI\";\nimport SearchBar from \"./SearchBar\";\nimport ImageGallery from \"./ImageGallery\";\nimport Modal from \"./Modal\";\nimport Button from \"./Button\";\nimport Spinner from \"./Spinner\";\n\nclass App extends Component {\n  state = {\n    page: 1,\n    images: [],\n    query: \"\",\n    largeImage: \"\",\n    isLoading: false,\n    error: null,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.getImages();\n    }\n    if (prevState.currentPage !== this.state.currentPage) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({ page: 1, images: [], query, error: null });\n  };\n\n  onSubmit = (event) => {\n    event.preventDefault();\n    this.getImages();\n  };\n\n  getImages = () => {\n    const { page, query } = this.state;\n\n    this.setState({\n      isLoading: true,\n    });\n    api\n      .getImages({ query, page })\n      .then((response) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...mapper(response)],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch((error) =>\n        this.setState({\n          error: toast.error(\"Woops, something went wrong... Try again later.\"),\n        })\n      )\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  openModal = (modalImage) => {\n    this.setState(() => ({ largeImage: modalImage }));\n    this.toggleModal();\n  };\n\n  closeModal = () => {\n    this.setState({ largeImage: \"\" });\n    this.toggleModal();\n  };\n\n  render() {\n    const { images, showModal, largeImage, isLoading } = this.state;\n    const renderLoadMoreBtn = images.length > 0 && !isLoading;\n    return (\n      <div className={style.App}>\n        <SearchBar onSubmit={this.onChangeQuery} />\n        <ImageGallery images={images} onClickImg={this.openModal} />\n        {renderLoadMoreBtn && (\n          <Button getImages={this.getImages}>load more</Button>\n        )}\n        {isLoading && <Spinner />}\n        {showModal && (\n          <Modal\n            onClose={this.toggleModal}\n            modalImg={largeImage.largeImageURL}\n          />\n        )}\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}